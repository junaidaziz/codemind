# AI-Powered Automation Guide

Complete guide to using CodeMind's AI automation features for code fixing, generation, and testing.

## Table of Contents

1. [Overview](#overview)
2. [Auto-Fix Code Issues](#auto-fix-code-issues)
3. [Generate Code from Requirements](#generate-code-from-requirements)
4. [Automated Testing & Validation](#automated-testing--validation)
5. [Best Practices](#best-practices)
6. [Troubleshooting](#troubleshooting)

---

## Overview

CodeMind provides AI-powered automation tools that help developers:
- **Fix bugs automatically** - Describe an issue and get AI-generated fixes
- **Generate new features** - Create components and features from natural language
- **Validate code quality** - Run comprehensive tests before merging

All automation features integrate seamlessly with your GitHub workflow, creating branches, committing changes, and opening pull requests automatically.

### Key Features

- ü§ñ **GPT-4 Powered**: Uses OpenAI GPT-4 Turbo for intelligent code analysis and generation
- üîÑ **Full GitHub Integration**: Automatically creates branches, commits, and PRs
- ‚úÖ **Quality Assurance**: Runs tests, linting, and type checking
- üìä **Detailed Feedback**: Provides comprehensive analysis and results
- üéØ **Context-Aware**: Understands your project structure and coding patterns

---

## Auto-Fix Code Issues

Automatically analyze and fix bugs or code issues using AI.

### How It Works

1. **User describes the bug** - Natural language description of the issue
2. **AI analyzes the problem** - GPT-4 examines the codebase and identifies root cause
3. **Generate fixes** - AI creates specific code changes to resolve the issue
4. **Create PR** - Automatically creates a branch, commits changes, and opens a draft PR
5. **Human review** - Developer reviews AI-generated fixes before merging

### Usage Examples

#### Basic Bug Fix

```
User: "There's a bug where the login form doesn't validate email addresses properly"

AI: I'll analyze and fix this issue. Let me:
1. Examine the login form code
2. Generate a fix for email validation
3. Create a PR with the changes

[Calls auto_fix_code_issue tool]

‚úÖ Created PR #123: Fix email validation in login form
üîó https://github.com/owner/repo/pull/123

The PR includes:
- Root cause analysis
- Specific code changes
- Explanation of the fix

Please review the changes before merging!
```

#### Targeted Fix with File Paths

```
User: "Fix the memory leak in src/components/Dashboard.tsx and src/hooks/useData.ts"

AI: I'll focus on those specific files and fix the memory leak.

[Calls auto_fix_code_issue with filePaths parameter]

‚úÖ Auto-fix PR created!
Branch: fix/memory-leak-dashboard-usedata-1234567
Files analyzed: Dashboard.tsx, useData.ts
PR: https://github.com/owner/repo/pull/124
```

#### Custom Branch Name

```
User: "Fix the API timeout issue and use branch name hotfix/api-timeout"

AI: [Calls auto_fix_code_issue with branchName parameter]

‚úÖ Created PR on branch: hotfix/api-timeout
```

### Tool Parameters

- **issueDescription** (required): Detailed description of the bug or issue
- **filePaths** (optional): Comma-separated file paths to focus on
- **branchName** (optional): Custom branch name (auto-generated if not provided)

### What Gets Created

1. **New Branch**: `fix/issue-description-timestamp`
2. **Draft PR** with:
   - Root cause analysis
   - Proposed fixes with code snippets
   - Detailed explanation
   - "Auto-generated by CodeMind AI" label

### Limitations

- PRs are created as **drafts** - human review required
- AI suggestions should be validated before merging
- Complex refactoring may require manual intervention
- Currently generates fix suggestions; full file modification coming soon

---

## Generate Code from Requirements

Create new features, components, or services from natural language descriptions.

### How It Works

1. **User describes feature** - Natural language requirements
2. **AI generates code** - Creates complete, production-ready code
3. **Scaffold files** - Generates file structure and content
4. **Create PR** - Opens draft PR with all generated files
5. **Review & merge** - Developer reviews and tests before merging

### Usage Examples

#### Generate a React Component

```
User: "Create a user profile component with avatar, name, bio, and social links. Include dark mode support."

AI: I'll generate a complete user profile component for you.

[Calls generate_code_from_requirements]
- featureType: component
- targetPath: src/components
- requirements: [detailed description]

‚úÖ Feature PR created!
Generated files:
- src/components/UserProfile.tsx: Main component with props interface
- src/components/UserProfile.module.css: Styles with dark mode
- src/components/UserProfile.test.tsx: Unit tests

PR: https://github.com/owner/repo/pull/125
Files: 3 files created
```

#### Create an API Endpoint

```
User: "Generate an API endpoint for user authentication with JWT tokens, password hashing, and rate limiting"

AI: [Calls generate_code_from_requirements]
- featureType: api
- targetPath: src/app/api/auth
- requirements: JWT auth with security features

‚úÖ API endpoint generated!
Files:
- src/app/api/auth/login/route.ts: Login endpoint
- src/app/api/auth/register/route.ts: Registration
- src/lib/auth-helpers.ts: JWT utilities
- src/middleware/rate-limit.ts: Rate limiting

PR: https://github.com/owner/repo/pull/126
```

#### Generate a Service

```
User: "Create a notification service that supports email, SMS, and push notifications with queuing"

AI: [Calls generate_code_from_requirements]
- featureType: service
- targetPath: src/services
- requirements: Multi-channel notifications with queue

Generated comprehensive service with:
- Email integration
- SMS gateway
- Push notification handling
- Queue management
- Error handling
- Type safety
```

### Feature Types

- **component**: React/UI components
- **api**: API routes and endpoints
- **service**: Business logic services
- **utility**: Helper functions and utilities
- **page**: Full page components
- **feature**: Complete features with multiple files

### Tool Parameters

- **requirements** (required): Detailed feature requirements
- **featureType** (required): Type of code to generate
- **targetPath** (required): Destination directory
- **branchName** (optional): Custom branch name

### Best Practices

1. **Be specific** - More detail = better results
2. **Include constraints** - Mention libraries, patterns, requirements
3. **Review thoroughly** - Always test generated code
4. **Add tests** - Verify functionality before merging
5. **Iterate** - Refine requirements if results aren't perfect

### What Gets Generated

- Complete, typed TypeScript code
- File structure and organization
- Documentation and comments
- Error handling
- Tests (when applicable)
- Setup instructions

---

## Automated Testing & Validation

Run comprehensive tests and validation before merging PRs.

### How It Works

1. **Specify PR or branch** - Target what to test
2. **Run validations** - TypeScript, linting, unit tests, E2E
3. **Collect results** - Aggregate all test outputs
4. **Post feedback** - Comment on PR with results
5. **Pass/fail status** - Clear indication of merge readiness

### Usage Examples

#### Test a Pull Request

```
User: "Run tests on PR #127"

AI: [Calls run_automated_tests with prNumber: "127"]

‚úÖ Tests completed: 3/3 passed

Results:
‚úÖ Typecheck: Passed (1,234ms)
‚úÖ Lint: Passed (892ms)
‚úÖ Unit Tests: Passed (3,456ms)

All checks passed! Safe to merge.
Posted results as comment on PR #127
```

#### Test Specific Types

```
User: "Run only linting and type checking on PR #128"

AI: [Calls run_automated_tests]
- prNumber: "128"
- testTypes: "lint,typecheck"

Results:
‚úÖ Typecheck: Clean
‚úÖ Lint: No errors

Skipped unit and E2E tests as requested.
```

#### Test a Branch

```
User: "Run all tests on the feature/dark-mode branch"

AI: [Calls run_automated_tests with branch: "feature/dark-mode"]

Test results for branch: feature/dark-mode
‚úÖ TypeScript: No errors
‚úÖ ESLint: Clean
‚úÖ Unit Tests: 45 passed, 0 failed
‚ö†Ô∏è  E2E: Not configured

3/4 checks passed. Consider adding E2E tests.
```

### Test Types

- **lint**: ESLint code quality checks
- **typecheck**: TypeScript compilation validation
- **unit**: Jest unit tests
- **e2e**: Playwright end-to-end tests
- **all**: Run all available tests (default)

### Tool Parameters

- **prNumber** (optional): PR number to test
- **branch** (optional): Branch name to test
- **testTypes** (optional): Comma-separated test types (default: "all")

### What Gets Validated

1. **TypeScript Compilation**
   - Type errors
   - Import resolution
   - Configuration issues

2. **Code Quality (Lint)**
   - ESLint rules
   - Code style
   - Best practices
   - Unused variables

3. **Unit Tests**
   - Jest test suites
   - Code coverage
   - Test failures
   - Assertion errors

4. **E2E Tests** (when configured)
   - Playwright scenarios
   - User workflows
   - Integration tests

### Results Format

Results are posted as PR comments with:
- ‚úÖ/‚ùå Status for each test type
- Detailed output (truncated for readability)
- Execution duration
- Pass/fail recommendation

### CI/CD Integration

These tools complement your CI/CD pipeline:
- **Before merge**: Quick validation in chat
- **During development**: Catch issues early
- **PR reviews**: Automated quality checks

---

## Best Practices

### Auto-Fix Issues

‚úÖ **Do:**
- Provide clear, specific bug descriptions
- Include file paths when known
- Review all AI-generated changes
- Test fixes before merging
- Use descriptive branch names

‚ùå **Don't:**
- Merge draft PRs without review
- Assume AI fixes are always correct
- Skip testing generated code
- Use for critical security fixes without careful review

### Code Generation

‚úÖ **Do:**
- Write detailed requirements
- Specify frameworks/libraries to use
- Include edge cases and constraints
- Review generated code thoroughly
- Add your own tests
- Iterate on requirements if needed

‚ùå **Don't:**
- Generate production code without review
- Skip type checking
- Ignore test coverage
- Use without understanding the code
- Commit directly to main

### Automated Testing

‚úÖ **Do:**
- Run tests before requesting PR reviews
- Use specific test types for faster feedback
- Address failures before merging
- Post results in PR comments
- Automate in CI/CD pipeline

‚ùå **Don't:**
- Merge with failing tests
- Skip validation for "small" changes
- Ignore lint warnings
- Test only happy paths

---

## Troubleshooting

### Auto-Fix Issues

**Problem**: AI can't find the bug
- **Solution**: Provide more context, file paths, error messages

**Problem**: Generated fix doesn't work
- **Solution**: Review the root cause analysis, adjust issue description, try again

**Problem**: PR not created
- **Solution**: Check GitHub token permissions, branch doesn't already exist

### Code Generation

**Problem**: Generated code doesn't match expectations
- **Solution**: Refine requirements with more specifics, examples, constraints

**Problem**: Files not in correct directory
- **Solution**: Verify targetPath parameter, check project structure

**Problem**: Missing dependencies
- **Solution**: Install required packages, update requirements to specify libraries

### Automated Testing

**Problem**: Tests hang or timeout
- **Solution**: Check for infinite loops, async issues, test configuration

**Problem**: False positives/negatives
- **Solution**: Review test configuration, update validation rules

**Problem**: E2E tests not running
- **Solution**: Configure Playwright, set AUTOFIX_REAL_VALIDATION=true

---

## Statistics

- **Tools Available**: 11 total (3 AI-powered automation)
- **Code Added**: ~500 lines of automation logic
- **AI Models**: GPT-4 Turbo for analysis and generation
- **Supported Languages**: TypeScript, JavaScript, React
- **Validation Types**: 4 (typecheck, lint, unit, e2e)

---

## What's Next

Planned enhancements:
- [ ] Full file modification (not just PR suggestions)
- [ ] Multi-file refactoring
- [ ] Automated test generation
- [ ] Security vulnerability scanning
- [ ] Performance optimization suggestions
- [ ] Code review assistance
- [ ] Dependency update automation

---

*Last Updated: December 2024*
*CodeMind v1.0*
